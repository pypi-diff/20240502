# Comparing `tmp/codeproject_ai_sdk-0.0.8-py3-none-any.whl.zip` & `tmp/codeproject_ai_sdk-0.0.9-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,17 +1,17 @@
-Zip file size: 38673 bytes, number of entries: 15
--rw-rw-rw-  2.0 fat      339 b- defN 24-Apr-25 16:51 codeproject_ai_sdk/__init__.py
--rw-rw-rw-  2.0 fat     4745 b- defN 24-Apr-25 16:51 codeproject_ai_sdk/common.py
--rw-rw-rw-  2.0 fat    14243 b- defN 24-Apr-25 16:51 codeproject_ai_sdk/module_logging.py
--rw-rw-rw-  2.0 fat     5209 b- defN 24-Apr-25 16:51 codeproject_ai_sdk/module_options.py
--rw-rw-rw-  2.0 fat    61588 b- defN 24-Apr-25 16:51 codeproject_ai_sdk/module_runner.py
--rw-rw-rw-  2.0 fat     9686 b- defN 24-Apr-25 16:51 codeproject_ai_sdk/request_data.py
--rw-rw-rw-  2.0 fat    15501 b- defN 24-Apr-25 16:51 codeproject_ai_sdk/system_info.py
--rw-rw-rw-  2.0 fat      328 b- defN 24-Apr-25 16:51 codeproject_ai_sdk/utils/__init__.py
--rw-rw-rw-  2.0 fat    26205 b- defN 24-Apr-25 16:51 codeproject_ai_sdk/utils/cpuinfo.py
--rw-rw-rw-  2.0 fat     2746 b- defN 24-Apr-25 16:51 codeproject_ai_sdk/utils/environment_check.py
--rw-rw-rw-  2.0 fat     1419 b- defN 24-Apr-25 16:51 codeproject_ai_sdk/utils/image_utils.py
--rw-rw-rw-  2.0 fat      962 b- defN 24-Apr-29 15:30 codeproject_ai_sdk-0.0.8.dist-info/METADATA
--rw-rw-rw-  2.0 fat       92 b- defN 24-Apr-29 15:30 codeproject_ai_sdk-0.0.8.dist-info/WHEEL
--rw-rw-rw-  2.0 fat       19 b- defN 24-Apr-29 15:30 codeproject_ai_sdk-0.0.8.dist-info/top_level.txt
--rw-rw-r--  2.0 fat     1357 b- defN 24-Apr-29 15:30 codeproject_ai_sdk-0.0.8.dist-info/RECORD
-15 files, 144439 bytes uncompressed, 36393 bytes compressed:  74.8%
+Zip file size: 38966 bytes, number of entries: 15
+-rw-rw-rw-  2.0 fat      339 b- defN 24-Apr-30 15:11 codeproject_ai_sdk/__init__.py
+-rw-rw-rw-  2.0 fat     4745 b- defN 24-Apr-30 15:11 codeproject_ai_sdk/common.py
+-rw-rw-rw-  2.0 fat    14243 b- defN 24-Apr-30 15:11 codeproject_ai_sdk/module_logging.py
+-rw-rw-rw-  2.0 fat     6467 b- defN 24-Apr-30 15:11 codeproject_ai_sdk/module_options.py
+-rw-rw-rw-  2.0 fat    61588 b- defN 24-Apr-30 15:11 codeproject_ai_sdk/module_runner.py
+-rw-rw-rw-  2.0 fat     9686 b- defN 24-Apr-30 15:11 codeproject_ai_sdk/request_data.py
+-rw-rw-rw-  2.0 fat    15501 b- defN 24-Apr-30 15:11 codeproject_ai_sdk/system_info.py
+-rw-rw-rw-  2.0 fat      330 b- defN 24-Apr-30 15:11 codeproject_ai_sdk/utils/__init__.py
+-rw-rw-rw-  2.0 fat    26205 b- defN 24-Apr-30 15:11 codeproject_ai_sdk/utils/cpuinfo.py
+-rw-rw-rw-  2.0 fat     2746 b- defN 24-Apr-30 15:11 codeproject_ai_sdk/utils/environment_check.py
+-rw-rw-rw-  2.0 fat     1419 b- defN 24-Apr-30 15:11 codeproject_ai_sdk/utils/image_utils.py
+-rw-rw-rw-  2.0 fat      990 b- defN 24-Apr-30 15:29 codeproject_ai_sdk-0.0.9.dist-info/METADATA
+-rw-rw-rw-  2.0 fat       92 b- defN 24-Apr-30 15:29 codeproject_ai_sdk-0.0.9.dist-info/WHEEL
+-rw-rw-rw-  2.0 fat       19 b- defN 24-Apr-30 15:29 codeproject_ai_sdk-0.0.9.dist-info/top_level.txt
+-rw-rw-r--  2.0 fat     1357 b- defN 24-Apr-30 15:29 codeproject_ai_sdk-0.0.9.dist-info/RECORD
+15 files, 145727 bytes uncompressed, 36686 bytes compressed:  74.8%
```

## zipnote {}

```diff
@@ -27,20 +27,20 @@
 
 Filename: codeproject_ai_sdk/utils/environment_check.py
 Comment: 
 
 Filename: codeproject_ai_sdk/utils/image_utils.py
 Comment: 
 
-Filename: codeproject_ai_sdk-0.0.8.dist-info/METADATA
+Filename: codeproject_ai_sdk-0.0.9.dist-info/METADATA
 Comment: 
 
-Filename: codeproject_ai_sdk-0.0.8.dist-info/WHEEL
+Filename: codeproject_ai_sdk-0.0.9.dist-info/WHEEL
 Comment: 
 
-Filename: codeproject_ai_sdk-0.0.8.dist-info/top_level.txt
+Filename: codeproject_ai_sdk-0.0.9.dist-info/top_level.txt
 Comment: 
 
-Filename: codeproject_ai_sdk-0.0.8.dist-info/RECORD
+Filename: codeproject_ai_sdk-0.0.9.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## codeproject_ai_sdk/module_options.py

```diff
@@ -2,19 +2,16 @@
 import os
 import sys
 
 from .module_logging import LogVerbosity
 
 def _get_env_var(name: str, default: any = "") -> any:
     value = os.getenv(name, "")
-    # print(f"_get_env_var: {name} = {value}. default = {default}")
     if value == "" and default != "":
         value = default
-        # print(f"Debug: {name} not found. Setting to default {str(default)}")
-
     return value
 
 class ModuleOptions:
     """
     Helper methods to access options passed to modules
     """
 
@@ -26,39 +23,67 @@
     # so the only option is to pull the guts of this method out and hack.
     @staticmethod
     def getEnvVariable(name: str, default: any = "") -> any:
         """ Returns the value of the environment with the given name """
         return _get_env_var(name, default)
     
 
-    # Needed in a moment...
-    current_working_dir = os.getcwd()
-    current_dir_name    = os.path.basename(current_working_dir)
-
     # Settings
 
     # Was this module launched by the server or launched externally (eg by a debugger)
     launched_by_server  = _get_env_var("CPAI_MODULE_SERVER_LAUNCHED", "false")
 
     # Directory containing the current python interpreter 
     python_dir          = os.path.dirname(sys.executable)
 
     # Path to the current module
-    module_path         = os.path.normpath(_get_env_var("CPAI_MODULE_PATH", current_working_dir))
+    current_file_path   = os.path.dirname(__file__)
+    module_path         = os.path.normpath(_get_env_var("CPAI_MODULE_PATH", os.getcwd()))
 
     # These can be read from the modulesettings.json file if we're keen
-    module_id           = _get_env_var("CPAI_MODULE_ID",          current_dir_name)
-    module_name         = _get_env_var("CPAI_MODULE_NAME",        module_id)
+    module_id           = _get_env_var("CPAI_MODULE_ID",          None)
+    module_name         = _get_env_var("CPAI_MODULE_NAME",        None)
+
+    # If module ID and name weren't set, get it from the modulesettings file
+    if not module_id or not module_name:
+        try:
+            with open(os.path.join(module_path, "modulesettings.json")) as json_file:
+                # data = json.load(json_file)
+                file_data = json_file.read()
+                import commentjson
+                data = commentjson.loads(file_data)
+
+                module_id   = list(data["Modules"].keys())[0]
+                module_name = list(data["Modules"].values())[0]["Name"]
+        except Exception as ex:
+            print(f"Unable to read module info in {module_path}")
+            module_id   = os.path.basename(module_path)
+            module_name = module_id
+
     queue_name          = _get_env_var("CPAI_MODULE_QUEUENAME",   module_id.lower() + "_queue")
 
     # Port the server listens on, both for clients and for backend modules
     port                = _get_env_var("CPAI_PORT",               "32168")
 
     # The path to the root folder containing the application
-    server_root_path    = _get_env_var("CPAI_APPROOTPATH",        os.path.normpath(os.path.join(os.path.dirname(__file__), "../../..")))
+    server_root_path    = _get_env_var("CPAI_APPROOTPATH", None)
+
+    # If path root not set, we start taking wild guesses
+    if not server_root_path:
+        root_path = os.path.normpath(os.path.join(module_path, "../../..")) # root/src/modules/module
+        if root_path.lower().endswith("codeproject.ai-server"):
+            server_root_path = root_path
+        else:
+            root_path = os.path.normpath(os.path.join(module_path, "../..")) # root/modules/module
+            if root_path.lower().endswith("codeproject.ai-server"):
+                server_root_path = root_path
+            else:
+                root_path = os.path.normpath(os.path.join(module_path, "..")) # CodeProject.AI-Modules/module
+                if root_path.lower().endswith("codeproject.ai-modules"):
+                    server_root_path = os.path.normpath(os.path.join(module_path, "../../CodeProject.AI-Server"))
 
     # How many tasks to spin up for a module
     parallelism         = _get_env_var("CPAI_MODULE_PARALLELISM", "0");
 
     # How much RAM is needed to perform tasks in this module?
     required_MB         = _get_env_var("CPAI_MODULE_REQUIRED_MB", "0");
```

## codeproject_ai_sdk/utils/__init__.py

```diff
@@ -1,6 +1,6 @@
 # from /utils
 from .cpuinfo import CPUInfoBase, LinuxCPUInfo, IRIXCPUInfo, DarwinCPUInfo, NetBSDCPUInfo, SunOSCPUInfo, Win32CPUInfo
 from .environment_check import check_requirements, check_is_file, get_arguments
 
-# REVIEW: [Chris] not sure if these are needed
+# REVIEW: These probably not needed at this time
 # from .image_utils import rotate_image, deskew, compute_skew
```

## Comparing `codeproject_ai_sdk-0.0.8.dist-info/METADATA` & `codeproject_ai_sdk-0.0.9.dist-info/METADATA`

 * *Files 5% similar despite different names*

```diff
@@ -1,24 +1,25 @@
 Metadata-Version: 2.1
 Name: codeproject-ai-sdk
-Version: 0.0.8
+Version: 0.0.9
 Summary: Python SDK for writing Modules for CodeProject AI Server
 Author: Chris Maunder, Matthew Dennis
 License: SSPL
 Classifier: Programming Language :: Python :: 3
 Classifier: Programming Language :: Python :: 3.7
 Classifier: Programming Language :: Python :: 3.8
 Classifier: Programming Language :: Python :: 3.9
 Classifier: Programming Language :: Python :: 3.10
 Classifier: Programming Language :: Python :: 3.11
 Classifier: Programming Language :: Python :: 3.12
 Requires-Python: >=3.7
 Description-Content-Type: text/markdown
 Requires-Dist: Pillow
 Requires-Dist: charset-normalizer
+Requires-Dist: commentjson
 Requires-Dist: aiohttp
 Requires-Dist: aiofiles
 Requires-Dist: py-cpuinfo
 Requires-Dist: requests
 
 # CodeProject.AI Server SDK for Python
```

## Comparing `codeproject_ai_sdk-0.0.8.dist-info/RECORD` & `codeproject_ai_sdk-0.0.9.dist-info/RECORD`

 * *Files 15% similar despite different names*

```diff
@@ -1,15 +1,15 @@
 codeproject_ai_sdk/__init__.py,sha256=Z_TNam5hd5j9NTiYojRNM3QNmIgqX3RIiOByz_VzrNc,339
 codeproject_ai_sdk/common.py,sha256=HE8SBbHZloEmR4jj43_TesjlJtEZtgrJj869JK-gpbY,4745
 codeproject_ai_sdk/module_logging.py,sha256=tP51Vpp1SoSC_niAlJaVFPnQ4upggaAKf-KE3s5QAxQ,14243
-codeproject_ai_sdk/module_options.py,sha256=E58Uba2lV5q3fkiQjQLIkVC6bOWYh7RJfR_SO6NPRhw,5209
+codeproject_ai_sdk/module_options.py,sha256=fn1R-ExBVV3ih7T6OvhWQGmTvdV1jD_nXJr0ICQLyd4,6467
 codeproject_ai_sdk/module_runner.py,sha256=O1ZDHh4l4QnmrvyGYy5LrlM5klBMrEoUR6m7fJFYCCY,61588
 codeproject_ai_sdk/request_data.py,sha256=qjfG4bIK53itOhV_fC2iGM6sZQp5eURjArUife_15lg,9686
 codeproject_ai_sdk/system_info.py,sha256=ysLg2udhPEIdV5BTK4cbaapJiFw6OJH_BpCzt3-VgTc,15501
-codeproject_ai_sdk/utils/__init__.py,sha256=iJxF8ROEpDlnUDMb61p3LFPWyHx1NR3ix1nzv3_umKo,328
+codeproject_ai_sdk/utils/__init__.py,sha256=p1SFG32cviDtD4NBk5xTdcZxFoAinpHwYsiFYJ06HOI,330
 codeproject_ai_sdk/utils/cpuinfo.py,sha256=Y2_khkb6FPiqzVoFy1olM-Kz8kDhc7CwKXyYohAU7PI,26205
 codeproject_ai_sdk/utils/environment_check.py,sha256=dLEnaXX5AlMNGRnSPRWlLniHqiyF1VJZSJAnLE6TxsE,2746
 codeproject_ai_sdk/utils/image_utils.py,sha256=IVa7x8u22VV89XJoYKR-iXMXqATDzNiDQEGV46MqSrc,1419
-codeproject_ai_sdk-0.0.8.dist-info/METADATA,sha256=r5LDYZu8JQRTogLN9FzSkXbA8Dmoladea5m4p5IyKTY,962
-codeproject_ai_sdk-0.0.8.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
-codeproject_ai_sdk-0.0.8.dist-info/top_level.txt,sha256=Nv5ufBe4VOyLmSTbCJjYnM6L-0bnqnSlpxtqG0GE064,19
-codeproject_ai_sdk-0.0.8.dist-info/RECORD,,
+codeproject_ai_sdk-0.0.9.dist-info/METADATA,sha256=Jd1EpNEV17wMkpDLj06KulxwCm2ppBf2wDSsIaZZhao,990
+codeproject_ai_sdk-0.0.9.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
+codeproject_ai_sdk-0.0.9.dist-info/top_level.txt,sha256=Nv5ufBe4VOyLmSTbCJjYnM6L-0bnqnSlpxtqG0GE064,19
+codeproject_ai_sdk-0.0.9.dist-info/RECORD,,
```

